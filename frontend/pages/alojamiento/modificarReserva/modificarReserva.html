<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/components/header/header.css">
    <link rel="stylesheet" href="/components/footer/footer.css">
    <link rel="stylesheet" href="modificarReserva.css">
    <title>Modificar Reserva</title>
</head>
<body>
    <header class="header"></header>

    <main class="main-modificar-reserva">
        <h2>Modificar tu Reserva</h2>
        
        <div class="propiedad-info">
            <div class="propiedad-imagen">
                <img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800" alt="Propiedad reservada">
            </div>
            
            <div class="propiedad-detalles">
                <div class="propiedad-nombre">Cargando...</div>
                <div class="propiedad-direccion">Cargando...</div>
                <div class="propiedad-precio">Cargando...</div>
                <div class="propiedad-dueño">Cargando...</div>
                
                <div class="rating">
                    <svg class="star" viewBox="0 0 24 24">
                        <defs>
                            <linearGradient id="half-star">
                                <stop offset="50%" stop-color="#f6e05e"/>
                                <stop offset="50%" stop-color="#e2e8f0"/>
                            </linearGradient>
                        </defs>
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                    <svg class="star" viewBox="0 0 24 24">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                    <svg class="star" viewBox="0 0 24 24">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                    <svg class="star" viewBox="0 0 24 24">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                    <svg class="star half" viewBox="0 0 24 24">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                    <span class="rating-text">(21)</span>
                </div>
            </div>
        </div>
        
        <div class="mensaje-plazo">
            <p>Tienes 48 horas para modificar o cancelar la reserva</p>
        </div>

        <!-- Detalles actuales de la reserva -->
        <div class="reserva-actual">
            <h3>Reserva Actual</h3>
            <div class="detalles-grid">
                <div class="detalle-item">
                    <strong>Check-in:</strong>
                    <span id="checkin-actual">-</span>
                </div>
                <div class="detalle-item">
                    <strong>Check-out:</strong>
                    <span id="checkout-actual">-</span>
                </div>
                <div class="detalle-item">
                    <strong>Huéspedes:</strong>
                    <span id="huespedes-actual">-</span>
                </div>
                <div class="detalle-item">
                    <strong>Importe Total:</strong>
                    <span id="importe-actual">-</span>
                </div>
            </div>
        </div>

        <!-- Formulario para modificar -->
        <div class="formulario-modificar">
            <h3>Nuevos Datos</h3>
            <form id="form-modificar-reserva">
                <div class="form-group">
                    <label for="nuevo-checkin">Nueva fecha de Check-in:</label>
                    <input type="date" id="nuevo-checkin" name="checkin" required>
                </div>

                <div class="form-group">
                    <label for="nuevo-checkout">Nueva fecha de Check-out:</label>
                    <input type="date" id="nuevo-checkout" name="checkout" required>
                </div>

                <div class="form-group">
                    <label for="nuevos-huespedes">Nueva cantidad de huéspedes:</label>
                    <input type="number" id="nuevos-huespedes" name="huespedes" min="1" required>
                    <small>Capacidad máxima: <span id="capacidad-maxima">-</span> personas</small>
                </div>

                <div class="nuevo-importe">
                    <strong>Nuevo Importe Estimado:</strong>
                    <span id="nuevo-importe">Seleccione fechas para calcular</span>
                </div>

                <div class="buttons-container">
                    <button type="button" class="btn-secundario" id="btn-volver">Volver</button>
                    <button type="button" class="btn-peligro" id="btn-cancelar">Cancelar Reserva</button>
                    <button type="submit" class="btn-principal">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </main>

    <footer class="footer"></footer>

    <script src="modificarReserva.js"></script>
    <script src="/components/header/header.js"></script>
    <script src="/components/footer/footer.js"></script>
    <script src="/services/enrutador.js"></script>
    <script src="/services/userRoleManager.js"></script>
</body>
</html>